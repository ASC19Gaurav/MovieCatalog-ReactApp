<app-navbar></app-navbar>
<h2>Register an Issue!!</h2>

<div class="container">
  <form [formGroup]="issueForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="id">Id:</label>
      <input type="text" id="id" formControlName="id" required />
      <div
        class="error"
        *ngIf="
          issueForm.get('email')?.invalid && issueForm.get('email')?.touched
        "
      >
        <div *ngIf="issueForm.get('email')?.errors?.['required']">
          Id is required
        </div>
      </div>
    </div>

    <div>
      <label for="title">Title:</label>
      <input type="text" id="title" formControlName="title" required />
      <div
        class="error"
        *ngIf="
          issueForm.get('title')?.invalid && issueForm.get('title')?.touched" >
        <div *ngIf="issueForm.get('title')?.errors?.['required']">
          Title is required
        </div>
      </div>
    </div>

    <div>
      <label for="priorty">Priorty Level:</label>
      <select id="priorty" formControlName="priorty" required>
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
      <div
        class="error"
        *ngIf="
          issueForm.get('priorty')?.invalid && issueForm.get('priorty')?.touched">
        <div *ngIf="issueForm.get('priorty')?.errors?.['required']">
          Priorty should be mentioned
        </div>
      </div>
    </div>

    <div>
        <label for="status">Status:</label>
        <select id="status" formControlName="status" required>
          <option value="open">Open</option>
          <option value="inprogress">Inprogress</option>
          <option value="resolved">Resolved</option>
          <option value="closed">Closed</option>
        </select>
        <div
          class="error"
          *ngIf="
            issueForm.get('status')?.invalid && issueForm.get('status')?.touched">
          <div *ngIf="issueForm.get('priorty')?.errors?.['required']">
            Priorty should be mentioned
          </div>
        </div>
      </div>

      <div>
        <label for="assignee">Assignee:</label>
        <input type="text" id="assignee" formControlName="assignee" required />
        <div
          class="error"
          *ngIf="
            issueForm.get('assignee')?.invalid && issueForm.get('assignee')?.touched" >
          <div *ngIf="issueForm.get('assignee')?.errors?.['required']">
             Required Field
          </div>
        </div>
      </div>

      <div>
        <div >
            <label for="datePicker">Issued Date:</label>
            <input id="date" type="date" formControlName="date" />
          </div>
          <div
          class="error"
          *ngIf="
            issueForm.get('date')?.invalid && issueForm.get('date')?.touched" >
          <div *ngIf="issueForm.get('date')?.errors?.['required']">
             Required Field
          </div>
        </div>
      </div>

      <div>
      <label for="description">Description:</label>
      <textarea id="description" formControlName="description" required ></textarea>
      <div
        class="error"
        *ngIf="
          issueForm.get('description')?.invalid && issueForm.get('description')?.touched" >
        <div *ngIf="issueForm.get('description')?.errors?.['required']">
          Description is required
        </div>
      </div>
    </div>

    <button
      style="display: flex; justify-content: center"
      type="submit"
      [disabled]="issueForm.invalid">
      Register
    </button>
  </form>
</div>
